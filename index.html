<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Galaxy Love</title>
<style>
  body { margin:0; overflow:hidden; background:black; }
  #musicBtn{
    position:fixed; bottom:15px; left:15px; z-index:10;
    background:#ffffff22; color:white; border:1px solid #ffffff55;
    padding:10px 14px; border-radius:10px; backdrop-filter: blur(6px);
  }
</style>
</head>
<body>

<!-- üéµ M√∫sica -->
<audio id="bgm" src="Thalia_ Pedro Cap√≥ - Estoy Enamorado(MP3_160K).mp3" loop></audio>
<button id="musicBtn">‚ñ∂ M√∫sica</button>

<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/examples/js/controls/OrbitControls.js"></script>

<script>
const scene = new THREE.Scene()
const camera = new THREE.PerspectiveCamera(60, window.innerWidth/window.innerHeight, 0.1, 1000)
camera.position.set(0,3,18)

const renderer = new THREE.WebGLRenderer({antialias:true})
renderer.setSize(window.innerWidth, window.innerHeight)
renderer.setPixelRatio(Math.min(window.devicePixelRatio,2))
document.body.appendChild(renderer.domElement)

const controls = new THREE.OrbitControls(camera, renderer.domElement)
controls.enableDamping = true
controls.autoRotate = true
controls.autoRotateSpeed = 0.4
controls.enablePan = false

// üåå Galaxia
const starCount = 100000
const geometry = new THREE.BufferGeometry()
const positions = new Float32Array(starCount*3)
const colors = new Float32Array(starCount*3)

for(let i=0;i<starCount;i++){
  const i3=i*3
  const radius=Math.random()*12
  const spin=radius*1.7
  const branches=6
  const branch=(i%branches)/branches*Math.PI*2
  const angle=branch+spin
  const rand=(Math.random()-0.5)*1.2

  positions[i3]=Math.cos(angle)*radius+rand
  positions[i3+1]=(Math.random()-0.5)*1.5
  positions[i3+2]=Math.sin(angle)*radius+rand

  const mix=radius/12
  colors[i3]=1
  colors[i3+1]=0.4+mix
  colors[i3+2]=1
}

geometry.setAttribute("position", new THREE.BufferAttribute(positions,3))
geometry.setAttribute("color", new THREE.BufferAttribute(colors,3))

const material=new THREE.PointsMaterial({
  size:0.04, vertexColors:true, transparent:true,
  blending:THREE.AdditiveBlending, depthWrite:false
})
const galaxy=new THREE.Points(geometry,material)
scene.add(galaxy)

// ‚ú® N√∫cleo
const core=new THREE.Mesh(
  new THREE.SphereGeometry(0.5,32,32),
  new THREE.MeshBasicMaterial({color:0xff88ff})
)
scene.add(core)

// üíñ Frases
const phrases = [
 "Eres una luz que no sabe apagarse",
 "Tu alma brilla m√°s que las estrellas",
 "Hay calma cuando pienso en ti",
 "Eres un peque√±o infinito",
 "Tu risa parece hecha de luz",
 "Entre millones de estrellas, tu brillo es √∫nico",
 "Eres la parte bonita del d√≠a",
 "El universo se siente m√°s amable contigo",
 "Mi Alma",
 "Te quiero ‚ù§Ô∏è",
 "Mi cachetona ‚ù§Ô∏è",
 "Qu√©date conmigo",
 "Eres bien chingona ‚ù§Ô∏è"
]

const textGroup = new THREE.Group()
scene.add(textGroup)

function createTextSprite(text){
  const canvas=document.createElement("canvas")
  const ctx=canvas.getContext("2d")
  canvas.width=1024; canvas.height=256
  ctx.fillStyle="white"
  ctx.font="60px Arial"
  ctx.textAlign="center"
  ctx.fillText(text, canvas.width/2, 150)
  const texture=new THREE.CanvasTexture(canvas)
  const material=new THREE.SpriteMaterial({map:texture, transparent:true})
  const sprite=new THREE.Sprite(material)
  sprite.scale.set(6,1.5,1)
  return sprite
}

phrases.forEach(p=>{
  const s=createTextSprite(p)
  const r=3+Math.random()*8
  const a=Math.random()*Math.PI*2
  s.position.set(Math.cos(a)*r,(Math.random()-0.5)*3,Math.sin(a)*r)
  textGroup.add(s)
})

// üîÑ Animaci√≥n
function animate(){
  requestAnimationFrame(animate)
  galaxy.rotation.y+=0.0004
  textGroup.rotation.y+=0.0003
  controls.update()
  renderer.render(scene,camera)
}
animate()

window.addEventListener("resize",()=>{
  camera.aspect=window.innerWidth/window.innerHeight
  camera.updateProjectionMatrix()
  renderer.setSize(window.innerWidth,window.innerHeight)
})

// üéµ Bot√≥n m√∫sica
const audio = document.getElementById("bgm")
const btn = document.getElementById("musicBtn")
btn.onclick = () => {
  if (audio.paused){ audio.play(); btn.textContent="‚è∏ M√∫sica" }
  else { audio.pause(); btn.textContent="‚ñ∂ M√∫sica" }
}
</script>
</body>

</html>
